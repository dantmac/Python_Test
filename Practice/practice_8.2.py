# Практическая работа 8
# Вариант 7

# Задание 2
# Для заданной квадратной матрицы сформировать одномерный массив из ее диагональных элементов.
# Найти след матрицы, просуммировав элементы одномерного массива.
# Преобразовать исходную матрицу по правилу: четные строки разделить на полученное значение, нечетные оставить без изменения.

n = int(input("Введите размерность матрицы (n x n): "))

matrix = []
print("Введите элементы матрицы построчно:")

for i in range(n):
    while True:
        row = list(map(int, input(f"Введите элементы {i + 1}-й строки через пробел: ").split()))
        if len(row) == n:
            matrix.append(row)
            break
        else:
            print(f"Ошибка! В строке должно быть {n} элементов. Попробуйте снова.")

diag = sum(matrix, [])[::len(matrix) + 1]
trace = sum(diag)

for i in range(0, len(matrix), 2):
    matrix[i] = [v / trace for v in matrix[i]]

print("Преобразованная матрица:")
for row in matrix:
    print(*row)